<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>AgroSync</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸŒ±</text></svg>">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/home.css">
    <link rel="stylesheet" href="css/diagnosis.css">
    <link rel="stylesheet" href="css/compost.css">
    <link rel="stylesheet" href="css/assistant.css">
    <link rel="stylesheet" href="css/profile.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/dark_mode.css">
    <link rel="stylesheet" href="css/responsive_utilities.css">
    <link rel="stylesheet" href="css/navigation.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="app-container">
        <!-- Header dinÃ¡mico -->
        <header class="app-header" id="main-app-header">
            <div class="header-content">
                <div class="app-title">AgroSync <i class="fas fa-leaf"></i></div>
                <div class="app-subtitle">Tu jardÃ­n inteligente</div>
            </div>
        </header>

        <!-- Page: Home -->
        <div id="home" class="page active"> 
            <main class="main-content">
                <section class="weather-card card">
                    <div class="weather-header">
                        <h3>Clima Actual</h3>
                        <div class="weather-icon" id="weather-icon-element"><i class="fas fa-cloud-sun"></i></div>
                    </div>
                    <div class="weather-grid">
                        <div class="weather-item">
                            <span class="weather-emoji"><i class="fas fa-thermometer-half"></i></span>
                            <div class="weather-value" id="weather-temp">15Â°</div>
                            <div class="weather-label">Temperatura</div>
                        </div>
                        <div class="weather-item">
                            <span class="weather-emoji"><i class="fas fa-tint"></i></span>
                            <div class="weather-value" id="weather-humidity">82%</div>
                            <div class="weather-label">Humedad</div>
                        </div>
                        <div class="weather-item">
                            <span class="weather-emoji"><i class="fas fa-wind"></i></span>
                            <div class="weather-value" id="weather-wind">5</div>
                            <div class="weather-label">km/h</div>
                        </div>
                    </div>
                    <div id="weather-location" style="text-align: center; margin-top: 15px; font-size: 0.875rem; opacity: 0.8;">Clima para: Lima, PerÃº</div>
                </section>

                <section class="quick-actions">
                    <button class="action-btn" onclick="showPage('diagnosis')">
                        <span class="action-emoji"><i class="fas fa-camera"></i></span>
                        <span class="action-text">Escanear Planta</span>
                    </button>
                    <button class="action-btn secondary" onclick="showPage('assistant')">
                        <span class="action-emoji"><i class="fas fa-robot"></i></span>
                        <span class="action-text">Asistente IA</span>
                    </button>
                </section>

                <section class="card">
                    <div class="section-header">
                        <span class="section-emoji"><i class="fas fa-seedling"></i></span>
                        <h3 class="section-title">Mis Plantas</h3>
                    </div>
                    <div id="plants-list-container" class="plants-list">
                        <!-- Prompt de registro mejorado -->
                        <div style="
                            text-align: center; 
                            padding: 3rem 2rem;
                            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--accent-purple) 100%);
                            border-radius: var(--border-radius-xl);
                            margin: 1rem 0;
                            color: white;
                            position: relative;
                            overflow: hidden;
                            box-shadow: var(--shadow-xl);
                        ">
                            <div style="position: relative; z-index: 2;">
                                <div style="margin-bottom: 1.5rem;">
                                    <i class="fas fa-lock" style="font-size: 4rem; margin-bottom: 1rem; display: block; opacity: 0.9;"></i>
                                </div>
                                <h3 style="margin-bottom: 1rem; font-size: 1.5rem; font-weight: 700;">
                                    ðŸŒ± Â¡Ãšnete a AgroSync!
                                </h3>
                                <p style="margin-bottom: 2rem; font-size: 1.1rem; opacity: 0.95; line-height: 1.6;">
                                    Para gestionar tus plantas necesitas una cuenta.<br>
                                    <strong>Es gratis</strong> y solo toma unos segundos.
                                </p>
                                <div style="background: rgba(255,255,255,0.1); padding: 1.5rem; border-radius: var(--border-radius-lg); margin-bottom: 2rem; backdrop-filter: blur(10px);">
                                    <h4 style="margin-bottom: 1rem; font-size: 1.1rem;">Con tu cuenta podrÃ¡s:</h4>
                                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; text-align: left;">
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <i class="fas fa-seedling" style="color: #10b981; font-size: 1.2rem;"></i>
                                            <span>AÃ±adir tus plantas</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <i class="fas fa-chart-line" style="color: #10b981; font-size: 1.2rem;"></i>
                                            <span>Monitorear su salud</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <i class="fas fa-robot" style="color: #10b981; font-size: 1.2rem;"></i>
                                            <span>Usar el asistente IA</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <i class="fas fa-bell" style="color: #10b981; font-size: 1.2rem;"></i>
                                            <span>Recibir alertas</span>
                                        </div>
                                    </div>
                                </div>
                                <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                                    <button onclick="window.location.href='register.html'" 
                                            style="background: white; color: var(--primary-blue); border: none; padding: 1rem 2rem; 
                                                   border-radius: var(--border-radius-lg); cursor: pointer; font-weight: 700;
                                                   transition: var(--transition); display: inline-flex; align-items: center; gap: 0.75rem;
                                                   box-shadow: 0 8px 25px rgba(0,0,0,0.2); font-size: 1.1rem;">
                                        <i class="fas fa-user-plus"></i> Crear Cuenta Gratis
                                    </button>
                                    <button onclick="window.location.href='login.html'" 
                                            style="background: rgba(255,255,255,0.2); color: white; border: 2px solid white; padding: 1rem 2rem; 
                                                   border-radius: var(--border-radius-lg); cursor: pointer; font-weight: 600;
                                                   transition: var(--transition); display: inline-flex; align-items: center; gap: 0.75rem;
                                                   backdrop-filter: blur(10px); font-size: 1rem;">
                                        <i class="fas fa-sign-in-alt"></i> Ya tengo cuenta
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="card">
                    <div class="section-header">
                        <span class="section-emoji"><i class="fas fa-bell"></i></span>
                        <h3 class="section-title">Alertas Recientes</h3>
                    </div>
                    <div class="notifications-list">
                         <div class="notification notification-high">
                            <div class="notification-content">
                                <div class="notification-text"><i class="fas fa-exclamation-triangle"></i> Posible plaga detectada en tomates</div>
                                <div class="notification-time">hace 5 min</div>
                            </div>
                        </div>
                        <div class="notification notification-success">
                             <div class="notification-content">
                                <div class="notification-text"><i class="fas fa-check-circle"></i> Compostaje Ã³ptimo - pH perfecto</div>
                                <div class="notification-time">hace 1h</div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <!-- Otras pÃ¡ginas ocultas por defecto -->
        <div id="diagnosis" class="page">
            <main class="main-content">
                <div class="page-header">
                    <h2><i class="fas fa-stethoscope"></i> DiagnÃ³stico de Plantas</h2>
                    <p>Usa la cÃ¡mara para identificar enfermedades o deficiencias.</p>
                </div>
                <section class="camera-section card">
                    <div class="camera-interface">
                        <div class="camera-preview">
                            <span class="camera-emoji"><i class="fas fa-camera-retro"></i></span>
                            <p>Apunta a la hoja afectada y toma una foto clara.</p>
                        </div>
                        <button class="camera-btn" onclick="alert('FunciÃ³n de cÃ¡mara en desarrollo')"><i class="fas fa-camera"></i> Tomar Foto</button>
                    </div>
                </section>
            </main>
        </div>

        <div id="assistant" class="page">
            <main class="main-content">
                <div class="page-header">
                    <h2><i class="fas fa-comments"></i> Chatea con AgriBot</h2>
                    <p>Resuelve tus dudas sobre jardinerÃ­a y agricultura.</p>
                </div>
                <section class="card" style="padding: 2rem;">
                    <div style="text-align: center; padding: 3rem 2rem;">
                        <i class="fas fa-lock" style="font-size: 3rem; color: var(--primary-blue); margin-bottom: 1rem;"></i>
                        <h3 style="margin-bottom: 1rem; color: var(--gray-800);">Acceso Restringido</h3>
                        <p style="margin-bottom: 2rem; color: var(--gray-600);">
                            Para chatear con AgriBot necesitas una cuenta en AgroSync.
                        </p>
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <a href="login.html" style="background: var(--primary-blue); color: white; padding: 0.75rem 1.5rem; border-radius: var(--border-radius); text-decoration: none; font-weight: 600;">
                                <i class="fas fa-sign-in-alt"></i> Iniciar SesiÃ³n
                            </a>
                            <a href="register.html" style="background: var(--success); color: white; padding: 0.75rem 1.5rem; border-radius: var(--border-radius); text-decoration: none; font-weight: 600;">
                                <i class="fas fa-user-plus"></i> Registrarse
                            </a>
                        </div>
                    </div>
                </section>
            </main>
        </div>

        <div id="compost" class="page">
            <main class="main-content">
                <div class="page-header">
                    <h2><i class="fas fa-calculator"></i> Calculadora de Compostaje</h2>
                    <p>Planifica tu compostaje para obtener el mejor abono.</p>
                </div>
                <section class="card">
                    <div class="section-header">
                        <span class="section-emoji"><i class="fas fa-balance-scale"></i></span>
                        <h3 class="section-title">Ingresa tus Datos</h3>
                    </div>
                    <div class="compost-calculator-input">
                        <label for="compost-amount">Cantidad de compost deseada (kg):</label>
                        <input type="number" id="compost-amount" value="1" min="0.5" step="0.5">
                        <button onclick="alert('Calculadora en desarrollo')" class="action-btn" style="margin-top: 1rem; width: 100%;"><i class="fas fa-cogs"></i> Calcular</button>
                    </div>
                </section>
            </main>
        </div>

        <div id="profile" class="page">
            <main class="main-content">
                <div class="page-header">
                    <h2><i class="fas fa-user-circle"></i> Mi Perfil</h2>
                    <p>Inicia sesiÃ³n o regÃ­strate para acceder a todas las funciones.</p>
                </div>
                <section class="quick-actions">
                    <button class="action-btn primary" onclick="window.location.href='login.html'">
                        <span class="action-emoji"><i class="fas fa-sign-in-alt"></i></span>
                        <span class="action-text">Iniciar SesiÃ³n</span>
                    </button>
                    <button class="action-btn success" onclick="window.location.href='register.html'">
                         <span class="action-emoji"><i class="fas fa-user-plus"></i></span>
                        <span class="action-text">Crear Cuenta</span>
                    </button>
                </section>
            </main>
        </div>
    </div> 

    <!-- NavegaciÃ³n inferior -->
    <nav class="bottom-nav" id="main-bottom-nav">
        <button class="nav-item active" onclick="showPage('home')">
            <span class="nav-emoji"><i class="fas fa-home"></i></span>
            <span class="nav-label">Inicio</span>
        </button>
        <button class="nav-item" onclick="showPage('diagnosis')">
            <span class="nav-emoji"><i class="fas fa-stethoscope"></i></span>
            <span class="nav-label">DiagnÃ³stico</span>
        </button>
        <button class="nav-item" onclick="showPage('compost')"> 
            <span class="nav-emoji"><i class="fas fa-recycle"></i></span>
            <span class="nav-label">Compost</span>
        </button>
         <button class="nav-item" onclick="showPage('assistant')">
            <span class="nav-emoji"><i class="fas fa-comments"></i></span>
            <span class="nav-label">Asistente</span>
        </button>
        <button class="nav-item" onclick="showPage('profile')">
            <span class="nav-emoji"><i class="fas fa-user-circle"></i></span>
            <span class="nav-label">Perfil</span>
        </button>
    </nav>

    <!-- JavaScript simple y funcional -->
    <script>
        // FunciÃ³n bÃ¡sica para cambiar pÃ¡ginas
        function showPage(pageId) {
            console.log('Mostrando pÃ¡gina:', pageId);
            
            // Ocultar todas las pÃ¡ginas
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Mostrar pÃ¡gina seleccionada
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            // Actualizar navegaciÃ³n
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Marcar item activo
            const activeNavItem = document.querySelector(`[onclick="showPage('${pageId}')"]`);
            if (activeNavItem) {
                activeNavItem.classList.add('active');
            }
        }

        // FunciÃ³n de toggle de ubicaciÃ³n
        function toggleLocation() {
            console.log('Toggle ubicaciÃ³n');
        }

        // InicializaciÃ³n
        document.addEventListener('DOMContentLoaded', function() {
            console.log('AgroSync cargado correctamente');
            showPage('home');
        });
    </script>
</body>
</html>
